{"version":3,"sources":["redux/reducers/config.js","utils/request.js","redux/sagas/_config.js","redux/sagas/index.js","redux/reducers/auth.js","redux/reducers/map.js","components/LoadScreen.js","components/esri/map/Map.js","utils/map.js","components/Nav.js","components/Sidebar.js","components/Main.js","components/App.js","styles/global.js","index.js","redux/store.js"],"names":["types","SET_CONFIG","CONFIG_FETCH","initialState","loaded","state","action","type","payload","status","response","Promise","resolve","reject","Error","statusText","handleResponse","handleAs","text","json","getRequestBody","data","isFormData","this","objectToFormData","obj","body","URLSearchParams","prop","hasOwnProperty","append","has","toString","objectToUrlSearchParams","makeRequest","params","url","headers","Headers","getHeaders","options","method","hideCredentials","credentials","fetch","then","bind","error","getAppConfig","resp","fetchConfig","watchFetchConfig","call","config","put","configTypes","console","takeLatest","rootSaga","all","Object","values","configSagas","map","fork","user","portal","token","loggedIn","mapLoaded","Container","styled","div","Wrapper","Title","Label","h1","FadingContainer","initial","opacity","zIndex","animate","transitionEnd","display","transition","delay","duration","ease","LoadScreen","props","isLoading","Map","element","mapConfig","loadModules","css","MapView","FeatureLayer","Legend","Expand","basemap","view","container","zoom","popup","dockEnabled","dockOptions","position","breakpoint","featureLayer","layerId","title","outFields","popupTemplate","content","fieldInfos","fieldName","label","format","digitSeparator","places","add","featureLayerPoint","renderer","symbol","width","height","legend","style","expanded","ui","when","onMapLoaded","id","Nav","TopNav","NavList","TopNavList","Navbar","useSelector","auth","useDispatch","Sidebar","sourceType","screenName","theme","Component","MapWrapper","RightPanel","Main","isMapLoaded","App","pathname","location","dispatch","useEffect","portalUrl","clientId","sessionId","completeAuth","signInRequested","isLoaded","path","component","to","basename","GlobalStyle","createGlobalStyle","homepage","store","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","reducers","sagaMiddleware","createSagaMiddleware","createStore","applyMiddleware","run","initStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.24ada55d.chunk.js","sourcesContent":["// ACTION TYPES //\nexport const types = {\n  SET_CONFIG: \"SET_CONFIG\",\n  CONFIG_FETCH: \"CONFIG_FETCH\"\n};\n\n// REDUCERS //\nexport const initialState = {\n  loaded: false\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case types.SET_CONFIG:\n      return {\n        ...state,\n        ...action.payload,\n        loaded: true\n      };\n    default:\n      return state;\n  }\n};\n\n// ACTIONS //\nexport const fetchConfig = () => ({ type: types.CONFIG_FETCH });\n","function status(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return Promise.resolve(response);\n  } else {\n    return Promise.reject(new Error(response.statusText));\n  }\n}\n\nfunction handleResponse(handleAs, response) {\n  switch (handleAs) {\n    case \"text\":\n      return response.text();\n    default:\n      return response.json();\n  }\n}\n\nfunction objectToUrlSearchParams(obj) {\n  const body = new URLSearchParams();\n  for (var prop in obj) {\n    if (obj.hasOwnProperty(prop)) {\n      body.append(prop, obj[prop]);\n    }\n  }\n\n  // add f=json if not included\n  if (!body.has(\"f\")) {\n    body.append(\"f\", \"json\");\n  }\n\n  return body.toString();\n}\n\nfunction getHeaders(isFormData) {\n  const headers = {};\n\n  if (!isFormData) {\n    headers[\"content-type\"] = \"application/x-www-form-urlencoded\";\n  }\n\n  return new Headers(headers);\n}\n\nfunction getRequestBody(data, isFormData) {\n  // if formdata, make formdata\n  if (isFormData) {\n    return this.objectToFormData(data);\n  }\n\n  // Not formdata, make url param\n  return objectToUrlSearchParams(data);\n}\n\n/**\n * Make a request using fetch()\n * @param  { Object } params Object containing key/value parameters to pass to fetch()\n * @return { Promise}        Promise returned by fetch()\n */\nexport function makeRequest(params) {\n  return new Promise((resolve, reject) => {\n    let url = params.url;\n    const data = params.data || {};\n    const headers = getHeaders(params.isFormData);\n    const options = {\n      method: params.method || \"get\",\n      headers\n    };\n\n    if (!params.hideCredentials) {\n      options.credentials = \"include\";\n    }\n\n    let body = getRequestBody(data, params.isFormData);\n\n    if (options.method === \"get\") {\n      url = `${url}?${body}`;\n    } else {\n      options.body = body;\n    }\n\n    fetch(url, options)\n      .then(status)\n      .then(handleResponse.bind(null, params.handleAs))\n      .then(function(data) {\n        // Handle successful requests that are actually errors...\n        if (data.error) {\n          reject(data.error);\n          return;\n        }\n        resolve(data);\n      })\n      .catch(function(error) {\n        reject(error);\n      });\n  });\n}\n\n/**\n * Make a request for the App Config [public/config] with makeRequest()\n * @return { Promise}        Promise returned by makeRequest()\n */\nexport function getAppConfig() {\n  return new Promise((resolve, reject) => {\n    makeRequest({\n      url: `/config.json`,\n      method: \"get\"\n    }).then(resp => resolve(resp));\n  });\n}\n","import { call, put, takeLatest } from \"redux-saga/effects\";\nimport { types as configTypes } from \"../reducers/config\";\nimport { getAppConfig } from \"../../utils/request\";\n\n// WORKER //\nfunction* fetchConfig(action) {\n  try {\n    // fetch config\n    const config = yield call(getAppConfig);\n\n    // load config into Redux store\n    yield put({\n      type: configTypes.SET_CONFIG,\n      payload: config\n    });\n  } catch (e) {\n    console.error(\"SAGA ERROR: config/fetchConfig, \", e);\n  }\n}\n\n// WATCHER //\nexport function* watchFetchConfig() {\n  yield takeLatest(configTypes.CONFIG_FETCH, fetchConfig);\n}\n","import { all, fork } from 'redux-saga/effects';\n\n// import * as authSagas from './_auth';\nimport * as configSagas from './_config';\n\nexport default function* rootSaga() {\n  yield all([\n    ...Object.values(configSagas),\n    // more sagas from different files\n  ].map(fork));\n}\n","// ACTION TYPES //\nexport const types = {\n  AUTH_START: \"AUTH_START\",\n  AUTH_COMPLETE: \"AUTH_COMPLETE\",\n  AUTH_SUCCESS: \"AUTH_SUCCESS\",\n  AUTH_FAIL: \"AUTH_FAIL\",\n  AUTH_CHECK: \"AUTH_CHECK\",\n  LOGOUT: \"LOGOUT\"\n};\n\n// REDUCERS //\nexport const initialState = {\n  user: null,\n  portal: null,\n  token: null,\n  loggedIn: false\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case types.AUTH_SUCCESS:\n      const { user, portal, token } = action.payload;\n\n      return {\n        user,\n        portal,\n        token,\n        loggedIn: true\n      };\n\n    case types.AUTH_FAIL:\n      return {\n        user: null,\n        portal: null,\n        token: null,\n        loggedIn: false\n      };\n\n    default:\n      return state;\n  }\n};\n\n// ACTIONS //\nexport const checkAuth = options => ({\n  type: types.AUTH_CHECK,\n  payload: options\n});\n\nexport const startAuth = options => ({\n  type: types.AUTH_START,\n  payload: options\n});\n\nexport const completeAuth = options => ({\n  type: types.AUTH_COMPLETE,\n  payload: options\n});\n\nexport const logout = sessionId => ({\n  type: types.LOGOUT,\n  payload: {\n    sessionId: sessionId\n  }\n});\n","// ACTION TYPES //\nexport const types = {\n  MAP_LOADED: \"MAP_LOADED\"\n};\n\n// REDUCERS //\nexport const initialState = {\n  loaded: false\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case types.MAP_LOADED:\n      return {\n        ...state,\n        loaded: true\n      };\n    default:\n      return state;\n  }\n};\n\n// ACTIONS //\nexport const mapLoaded = () => ({ type: types.MAP_LOADED, payload: {} });\n","// React\nimport React from \"react\";\n\n// Components\nimport Loader from \"calcite-react/Loader\";\n\n// Styled & Motion Components\nimport styled from \"styled-components\";\nimport { motion } from \"framer-motion\";\n\nconst Container = styled.div`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background: rgba(255, 255, 255, 0.1) url() no-repeat center/cover;\n  background-blend-mode: screen;\n`;\n\nconst Wrapper = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%);\n`;\n\nconst Title = styled.div`\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  z-index: 20;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  width: 100%;\n  padding: 2em;\n  text-align: right;\n  color: white;\n`;\n\nconst Label = styled.h1`\n  font-size: 3em;\n  text-shadow: -2px 2px 8px rgba(0, 0, 0, 0.25);\n`;\n\n// const Logo = styled.img`\n//   width: 10em;\n//   height: 100%;\n//   margin-right: 1em;\n// `;\n\nconst FadingContainer = () => (\n  <motion.div\n    initial={{ opacity: 1, zIndex: 1000 }}\n    animate={{\n      opacity: 0,\n      transitionEnd: {\n        display: \"none\"\n      }\n    }}\n    transition={{ delay: 1, duration: 1, ease: \"easeInOut\" }}\n  >\n    <Container></Container>\n  </motion.div>\n);\n\nconst LoadScreen = props => {\n  if (!props.isLoading) {\n    return (\n      <Container>\n        <Wrapper>\n          <Loader />\n        </Wrapper>\n        <Title>\n          {/* <Logo src={logo}></Logo> */}\n          <Label></Label>\n        </Title>\n      </Container>\n    );\n  }\n\n  return <FadingContainer />;\n};\n\nexport default LoadScreen;\n","// React imports\nimport React from \"react\";\n\n// ESRI ArcGIS API\nimport { loadMap } from \"../../../utils/map\";\n\n// Styled Components\nimport styled from \"styled-components\";\n\n// const Container = styled.div`\n//   height: 100%;\n//   width: 100%;\n// `;\n\n\nconst Container =styled.div`\nheight: 100%;\nmargin-right: 160px\n`;\n\n// Component\nconst Map = props => {\n  // set an ID for the map to attach to\n  const containerID = \"map-view-container\";\n\n  // load map with config properties\n  loadMap(containerID, props.mapConfig).then(() => {\n    // call the map loaded event when we get the map view back\n    props.onMapLoaded();\n  });\n\n  // Comopnent template\n  return <Container id={containerID}>\n  </Container>\n};\n\nexport default Map;\n","import { loadModules } from \"esri-loader\";\n\nexport function loadMap(element, mapOptions) {\n  return loadModules(['esri/Map', 'esri/views/MapView', 'esri/layers/FeatureLayer', 'esri/widgets/Legend', 'esri/widgets/Expand'], {\n    css: true\n  }).then(([Map, MapView, FeatureLayer, Legend, Expand]) => {\n    if (!element) {\n      // component or app was likely destroyed\n      return;\n    }\n    const map = new Map({\n      basemap: 'dark-gray'\n    })\n\n    // create map view\n    const view = new MapView({\n      container: element,\n      map: map,\n      zoom: 2,\n      popup: {\n        dockEnabled: true,\n        dockOptions: {\n          position: \"bottom\",\n          breakpoint: false\n        }\n      }\n    });\n\n    var template = {\n      // autocasts as new PopupTemplate()\n      title: \"Cases\",\n      content: [\n        {\n          type: \"fields\",\n          fieldInfos: [\n            {\n              fieldName: \"Province_State\",\n              label: \"Province/State\"\n            },\n            {\n              fieldName: \"Country_Region\",\n              label: \"Country/Region\t\",\n            },\n            {\n              //date type config\n              fieldName: \"Last_Update\",\n              label: \"Last Update\",\n              format: {\n                digitSeparator: true,\n                places: 0\n              }\n            },\n            {\n              //esriFieldTypeDouble\n              fieldName: \"Lat\",\n              label: \"Lat\",\n              format: {\n                digitSeparator: false,\n                places: 2\n              }\n            },\n            {\n              //esriFieldTypeDouble\n              fieldName: \"Long_\",\n              label: \"Long\",\n              format: {\n                digitSeparator: false,\n                places: 2\n              }\n            },\n            {\n              //esriFieldTypeDouble\n              fieldName: \"Confirmed\",\n              label: \"Confirmed\",\n              format: {\n                digitSeparator: true,\n                places: 0\n              }\n            },\n            {\n              //esriFieldTypeDouble\n              fieldName: \"Deaths\",\n              label: \"Deaths\",\n              format: {\n                digitSeparator: true,\n                places: 0\n              }\n            },\n            {\n              //esriFieldTypeDouble\n              fieldName: \"Recovered\",\n              label: \"Recovered\",\n              format: {\n                digitSeparator: true,\n                places: 0\n              }\n            }\n          ]\n        }\n      ]\n    };\n\n    // Reference the popupTemplate instance in the\n    // popupTemplate property of FeatureLayer\n    var featureLayer = new FeatureLayer({\n      url:\n        \"https://services1.arcgis.com/0MSEUqKaxRlEPj5g/ArcGIS/rest/services/ncov_cases/FeatureServer\",\n      layerId: 1,\n      title: \"Confirmed COVID-19 Cases\",\n      opacity: 0.5,\n      outFields: [\"Province_State\", \"Country_Region\", \"Last_Update\", \"Confirmed\", \"Recovered\"],\n      popupTemplate: template,\n    });\n\n    map.add(featureLayer);\n\n    // Add new point feature layer\n    var featureLayerPoint = new FeatureLayer({\n      url:\n        \"https://services1.arcgis.com/0MSEUqKaxRlEPj5g/arcgis/rest/services/ncov_cases/FeatureServer\",\n      layerId: 0,\n      title: \"Deaths\",\n      popupTemplate: null,\n    });\n\n    // render firefly symbol for point layer\n    var symbol = {\n      type: \"picture-marker\",  // autocasts as new PictureMarkerSymbol()\n      url: 'data:image/png;base64,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', width: '20px',\n      height: '20px'\n    };\n    featureLayerPoint.renderer = {\n      type: \"simple\",\n      symbol\n    }\n    map.add(featureLayerPoint);\n\n    // create legend\n    const legend = new Expand({\n      content: new Legend({\n        view: view,\n        container: \"legendDiv\",\n        style: \"classic\"\n      }),\n      view: view,\n      expanded: false\n    });\n\n    view.ui.add(legend, \"top-left\");\n\n\n    // wait for the view to load TODO: may not need this?\n    return view.when(() => {\n      // return a reference to the view\n      return view;\n    });\n  });\n}","// React imports\nimport React from \"react\";\n\n// Component imports\nimport TopNav from \"calcite-react/TopNav\";\nimport TopNavBrand from \"calcite-react/TopNav/TopNavBrand\";\nimport TopNavTitle from \"calcite-react/TopNav/TopNavTitle\";\nimport TopNavList from \"calcite-react/TopNav/TopNavList\";\nimport TopNavLink from \"calcite-react/TopNav/TopNavLink\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\n// Styled Components\nimport styled from \"styled-components\";\n\nconst Nav = styled(TopNav)`\n  && {\n    z-index: 4;\n    padding-left:20px\n  }\n`;\n\nconst NavList = styled(TopNavList)`\n  text-align: left;\n`;\n\n\n// Component definition\nconst Navbar = props => {\n  const auth = useSelector(state => state.auth);\n  const config = useSelector(state => state.config);\n  const dispatch = useDispatch();\n\n  return (\n      <Nav>\n        <TopNavTitle>COVID-19 Tracker</TopNavTitle>\n        <NavList>\n        </NavList>\n      </Nav>\n  )};\n\nexport default Navbar;","// React imports\nimport React, { Component } from 'react';\n\nimport SideNav, {\n  SideNavTitle,\n  SideNavLink\n} from 'calcite-react/SideNav'\n\nimport { TwitterTimelineEmbed, TwitterShareButton, TwitterFollowButton, TwitterHashtagButton, TwitterMentionButton, TwitterTweetEmbed, TwitterMomentShare, TwitterDMButton, TwitterVideoEmbed, TwitterOnAirButton } from 'react-twitter-embed';\n\nclass Sidebar extends Component {\n  render() {\n    return (\n      <div>\n        <SideNav>\n          <TwitterTimelineEmbed\n            sourceType=\"profile\"\n            screenName=\"CDCgov\"\n            theme='dark'\n            options={{ height: 350 }}\n          />\n            <TwitterTimelineEmbed\n            sourceType=\"profile\"\n            screenName=\"WHO\"\n            theme='dark'\n            options={{ height: 350 }}\n          />\n        </SideNav>\n      </div>\n    );\n  }\n}\n\nexport default Sidebar;","// React imports\nimport React from \"react\";\n\n// Redux imports\nimport { useSelector } from \"react-redux\";\nimport { mapLoaded } from \"../redux/reducers/map\";\n\n// Component imports\nimport Map from \"./esri/map/Map\";\nimport LoadScreen from \"./LoadScreen\";\nimport Nav from \"./Nav\";\nimport SideNav from './Sidebar'\n// import Timeline from './Twitter'\n\n// Styled Components\nimport styled from \"styled-components\";\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n`;\n\nconst MapWrapper = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  position: relative;\n  z-index: 0;\n  overflow: hidden;\n  margin-right:160px\n`;\n\nconst RightPanel = styled.div`\nheight: 100%; \nwidth: 200px; \nposition: fixed; \nz-index: 1; \ntop: 0; \nright: 0;\nbackground-color: #0000; \noverflow-x: hidden;\npadding-top: 60px;\n`;\n\n// Component definition\nconst Main = props => {\n  const config = useSelector(state => state.config);\n  const isMapLoaded = useSelector(state => state.map.loaded);\n\n  return (\n    <Container>\n      <LoadScreen isLoading={!isMapLoaded} />\n      <Nav>\n      </Nav>\n      <MapWrapper>\n        <Map onMapLoaded={mapLoaded} mapConfig={config.mapConfig} />\n      </MapWrapper>\n      <RightPanel>\n        <SideNav>\n        </SideNav>\n      </RightPanel>\n    </Container>\n  );\n};\n\nexport default Main;","// React imports\nimport React, { useEffect } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\n// Redux imports\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { fetchConfig } from \"../redux/reducers/config\";\nimport { checkAuth, startAuth, completeAuth } from \"../redux/reducers/auth\";\n\n// Component imports\nimport LoadScreen from \"./LoadScreen\";\nimport Main from \"./Main\";\n\n// Component definition\nconst App = props => {\n  // we'll use the url to determin sign-in state\n  const { pathname } = props.location;\n  // redux store state\n  const user = useSelector(state => state.auth.user);\n  const config = useSelector(state => state.config);\n  const dispatch = useDispatch();\n\n  // when the component mounts request the config and load it into the Redux state\n  useEffect(() => {\n    dispatch(fetchConfig());\n  }, [dispatch]);\n\n  // once the component mounts and the config loads, check if we have a saved session\n  useEffect(() => {\n    // if the config isn't yet loaded then skip this effect\n    if (!config.loaded) {\n      return;\n    }\n\n    const { portalUrl, clientId, sessionId } = config;\n\n    dispatch(checkAuth({ portalUrl, clientId, sessionId }));\n  }, [config, dispatch]);\n\n  // if there's no stored session, we'll watch the url path to see if we need to kick off an authentication\n  // this can happen automatically with a portalUrl property in the config\n  // or if the user requests a login through an event\n  useEffect(() => {\n    // if the config isn't yet loaded then skip this effect\n    if (!config.loaded) {\n      return;\n    }\n\n    const { portalUrl, clientId, sessionId } = config;\n\n    // we'll start the authentication here and it will return here to complete\n    if (portalUrl && !user && pathname !== \"/auth\") {\n      dispatch(startAuth({ portalUrl, clientId, sessionId }));\n    } else if (pathname === \"/auth\" && !user) {\n      dispatch(completeAuth({ portalUrl, clientId, sessionId }));\n    }\n  }, [config, user, pathname, dispatch]);\n\n  // set a halt state to allow the authentication process to complete before\n  // we redirect to the main component\n  let signInRequested = false;\n  if (pathname === \"/auth\") {\n    signInRequested = true;\n  }\n\n  // RENDER RETURN\n  // app is initializing for the following reasons, show the load screen\n  // 1. config is not yet loaded\n  // 2. authentication is required but there is no user information\n  // 3. authentication is not required but user has requested to sign-in\n  if (\n    !config.loaded ||\n    (config.portalUrl && !user) ||\n    (signInRequested && !user)\n  ) {\n    return <LoadScreen isLoaded={false} />;\n  }\n\n  // App is initialized and user is authenticated if needed, route to main component\n  return (\n    <>\n      <Route path=\"/main\" component={Main} />\n      <Redirect to=\"/main\" />\n    </>\n  );\n};\n\nexport default App;\n","import { createGlobalStyle } from \"styled-components\";\n\n// Global page styling\n// override AGIS JS API Widgets here\nexport const GlobalStyle = createGlobalStyle`\n  html,\n  body {\n    height: 100%;\n    font-family: Montserrat, sans-serif;\n  }\n\n  body {\n    margin: 0;\n    padding: 0;\n    font-weight: 300;\n    letter-spacing: 1px;\n    font-size: 16px;\n  }\n\n  .esri-layer-list__item{\n    &::before {\n      width: 100%;\n      left: 0;\n    }\n  }\n`;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\n// Redux //\nimport { Provider } from \"react-redux\";\nimport { initStore } from \"./redux/store\";\n\n// React Router //\nimport { BrowserRouter, Route } from \"react-router-dom\";\n\n// Components //\nimport { homepage } from \"../package.json\";\nimport App from \"./components/App\";\n\n// Styles //\nimport CalciteThemeProvider from \"calcite-react/CalciteThemeProvider\";\nimport { GlobalStyle } from \"./styles/global\";\nimport \"./styles/fonts.css\";\n\n// App runs at the root locally, but under /{homepage} in production\nlet basename;\nprocess.env.NODE_ENV !== \"production\" ? (basename = \"\") : (basename = homepage);\n\n// Create Redux Store\nexport const store = initStore();\n\n// App entry point\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter basename={basename}>\n      <CalciteThemeProvider>\n        <GlobalStyle />\n        <Route path=\"/\" component={App} />\n      </CalciteThemeProvider>\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","/**\n * Configure and create the Redux here\n * includes Saga\n * @type {Object} This is the store object that Redux uses\n */\n\n// REDUX IMPORTS //\nimport { applyMiddleware, combineReducers, compose, createStore } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport rootSaga from './sagas/index';\n\nimport * as reducers from './';\n\nexport function initStore() {\n  // Setup Redux dev tools\n  const composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n  // Setup Redux store\n  const rootReducer = combineReducers(reducers);\n  const sagaMiddleware = createSagaMiddleware();\n\n  const store = createStore(\n    rootReducer,\n    composeEnhancer(applyMiddleware(sagaMiddleware))\n  );\n\n  // Run sagas\n  sagaMiddleware.run(rootSaga);\n\n  return store;\n}\n"],"sourceRoot":""}