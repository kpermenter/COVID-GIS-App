(this["webpackJsonpreact-jsapi-app"]=this["webpackJsonpreact-jsapi-app"]||[]).push([[0],{102:function(e,n,t){},103:function(e,n,t){"use strict";t.r(n);var a={};t.r(a),t.d(a,"watchFetchConfig",(function(){return U}));var r={};t.r(r),t.d(r,"auth",(function(){return P})),t.d(r,"config",(function(){return A})),t.d(r,"map",(function(){return M}));var o=t(0),i=t.n(o),c=t(27),l=t.n(c),u=t(9),s=t(16),d=t(71),p=t(18),f=t.n(p),m=t(69),h=t(21),g=t(30),v={SET_CONFIG:"SET_CONFIG",CONFIG_FETCH:"CONFIG_FETCH"},b={loaded:!1},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case v.SET_CONFIG:return Object(g.a)({},e,{},n.payload,{loaded:!0});default:return e}};function E(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(new Error(e.statusText))}function O(e,n){switch(e){case"text":return n.text();default:return n.json()}}function w(e,n){return n?this.objectToFormData(e):function(e){var n=new URLSearchParams;for(var t in e)e.hasOwnProperty(t)&&n.append(t,e[t]);return n.has("f")||n.append("f","json"),n.toString()}(e)}function C(e){return new Promise((function(n,t){var a=e.url,r=e.data||{},o=function(e){var n={};return e||(n["content-type"]="application/x-www-form-urlencoded"),new Headers(n)}(e.isFormData),i={method:e.method||"get",headers:o};e.hideCredentials||(i.credentials="include");var c=w(r,e.isFormData);"get"===i.method?a="".concat(a,"?").concat(c):i.body=c,fetch(a,i).then(E).then(O.bind(null,e.handleAs)).then((function(e){e.error?t(e.error):n(e)})).catch((function(e){t(e)}))}))}function x(){return new Promise((function(e,n){C({url:"/config.json",method:"get"}).then((function(n){return e(n)}))}))}var j=f.a.mark(I),y=f.a.mark(U);function I(e){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h.b)(x);case 3:return n=e.sent,e.next=6,Object(h.d)({type:v.SET_CONFIG,payload:n});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("SAGA ERROR: config/fetchConfig, ",e.t0);case 11:case"end":return e.stop()}}),j,null,[[0,8]])}function U(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.e)(v.CONFIG_FETCH,I);case 2:case"end":return e.stop()}}),y)}var N=f.a.mark(S);function S(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)(Object(m.a)(Object.values(a)).map(h.c));case 2:case"end":return e.stop()}}),N)}var T="AUTH_START",k="AUTH_COMPLETE",D="AUTH_SUCCESS",F="AUTH_FAIL",R="AUTH_CHECK",L={user:null,portal:null,token:null,loggedIn:!1},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case D:var t=n.payload,a=t.user,r=t.portal,o=t.token;return{user:a,portal:r,token:o,loggedIn:!0};case F:return{user:null,portal:null,token:null,loggedIn:!1};default:return e}},G="MAP_LOADED",z={loaded:!1},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case G:return Object(g.a)({},e,{loaded:!0});default:return e}},W=function(){return{type:G,payload:{}}};var J=t(35),Y=t(17),H=t(55),Q=t(7),V=t(56),_=t.n(V),B=t(8),K=t(68);function Z(){var e=Object(Q.a)(["\n  font-size: 3em;\n  text-shadow: -2px 2px 8px rgba(0, 0, 0, 0.25);\n"]);return Z=function(){return e},e}function q(){var e=Object(Q.a)(["\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  z-index: 20;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  width: 100%;\n  padding: 2em;\n  text-align: right;\n  color: white;\n"]);return q=function(){return e},e}function X(){var e=Object(Q.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%);\n"]);return X=function(){return e},e}function $(){var e=Object(Q.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background: rgba(255, 255, 255, 0.1) url() no-repeat center/cover;\n  background-blend-mode: screen;\n"]);return $=function(){return e},e}var ee=B.b.div($()),ne=B.b.div(X()),te=B.b.div(q()),ae=B.b.h1(Z()),re=function(){return i.a.createElement(K.a.div,{initial:{opacity:1,zIndex:1e3},animate:{opacity:0,transitionEnd:{display:"none"}},transition:{delay:1,duration:1,ease:"easeInOut"}},i.a.createElement(ee,null))},oe=function(e){return e.isLoading?i.a.createElement(re,null):i.a.createElement(ee,null,i.a.createElement(ne,null,i.a.createElement(_.a,null)),i.a.createElement(te,null,i.a.createElement(ae,null)))},ie=t(70),ce=t(60);function le(){var e=Object(Q.a)(["\nheight: 100%;\nmargin-right: 160px\n"]);return le=function(){return e},e}var ue=B.b.div(le()),se=function(e){var n;return(n="map-view-container",e.mapConfig,Object(ce.loadModules)(["esri/Map","esri/views/MapView","esri/layers/FeatureLayer","esri/widgets/Legend","esri/widgets/Expand"],{css:!0}).then((function(e){var t=Object(ie.a)(e,5),a=t[0],r=t[1],o=t[2],i=t[3],c=t[4];if(n){var l=new a({basemap:"dark-gray"}),u=new r({container:n,map:l,zoom:2,popup:{dockEnabled:!0,dockOptions:{position:"bottom",breakpoint:!1}}}),s=new o({url:"https://services1.arcgis.com/0MSEUqKaxRlEPj5g/ArcGIS/rest/services/ncov_cases/FeatureServer",layerId:1,title:"Confirmed COVID-19 Cases",opacity:.5,outFields:["Province_State","Country_Region","Last_Update","Confirmed","Recovered"],popupTemplate:{title:"Cases",content:[{type:"fields",fieldInfos:[{fieldName:"Province_State",label:"Province/State"},{fieldName:"Country_Region",label:"Country/Region\t"},{fieldName:"Last_Update",label:"Last Update",format:{digitSeparator:!0,places:0}},{fieldName:"Lat",label:"Lat",format:{digitSeparator:!1,places:2}},{fieldName:"Long_",label:"Long",format:{digitSeparator:!1,places:2}},{fieldName:"Confirmed",label:"Confirmed",format:{digitSeparator:!0,places:0}},{fieldName:"Deaths",label:"Deaths",format:{digitSeparator:!0,places:0}},{fieldName:"Recovered",label:"Recovered",format:{digitSeparator:!0,places:0}}]}]}});l.add(s);var d=new o({url:"https://services1.arcgis.com/0MSEUqKaxRlEPj5g/arcgis/rest/services/ncov_cases/FeatureServer",layerId:0,title:"Deaths",popupTemplate:null});d.renderer={type:"simple",symbol:{type:"picture-marker",url:"data:image/png;base64,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",width:"20px",height:"20px"}},l.add(d);var p=new c({content:new i({view:u,container:"legendDiv",style:"classic"}),view:u,expanded:!1});return u.ui.add(p,"top-left"),u.when((function(){return u}))}}))).then((function(){e.onMapLoaded()})),i.a.createElement(ue,{id:"map-view-container"})},de=t(61),pe=t.n(de),fe=(t(51),t(33)),me=t.n(fe),he=t(34),ge=t.n(he);t(52);function ve(){var e=Object(Q.a)(["\n  text-align: left;\n"]);return ve=function(){return e},e}function be(){var e=Object(Q.a)(["\n  && {\n    z-index: 4;\n    padding-left:20px\n  }\n"]);return be=function(){return e},e}var Ae=Object(B.b)(pe.a)(be()),Ee=Object(B.b)(ge.a)(ve()),Oe=function(e){Object(u.c)((function(e){return e.auth})),Object(u.c)((function(e){return e.config})),Object(u.b)();return i.a.createElement(Ae,null,i.a.createElement(me.a,null,"COVID-19 Tracker"),i.a.createElement(Ee,null))},we=t(62),Ce=t(63),xe=t(72),je=t(64),ye=t(75),Ie=t(65),Ue=t.n(Ie),Ne=t(44),Se=function(e){function n(){return Object(we.a)(this,n),Object(xe.a)(this,Object(je.a)(n).apply(this,arguments))}return Object(ye.a)(n,e),Object(Ce.a)(n,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(Ue.a,null,i.a.createElement(Ne.a,{sourceType:"profile",screenName:"CDCgov",theme:"dark",options:{height:350}}),i.a.createElement(Ne.a,{sourceType:"profile",screenName:"WHO",theme:"dark",options:{height:350}})))}}]),n}(o.Component);function Te(){var e=Object(Q.a)(["\nheight: 100%; \nwidth: 200px; \nposition: fixed; \nz-index: 1; \ntop: 0; \nright: 0;\nbackground-color: #0000; \noverflow-x: hidden;\npadding-top: 60px;\n"]);return Te=function(){return e},e}function ke(){var e=Object(Q.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  position: relative;\n  z-index: 0;\n  overflow: hidden;\n  margin-right:160px\n"]);return ke=function(){return e},e}function De(){var e=Object(Q.a)(["\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n"]);return De=function(){return e},e}var Fe=B.b.div(De()),Re=B.b.div(ke()),Le=B.b.div(Te()),Pe=function(e){var n=Object(u.c)((function(e){return e.config})),t=Object(u.c)((function(e){return e.map.loaded}));return i.a.createElement(Fe,null,i.a.createElement(oe,{isLoading:!t}),i.a.createElement(Oe,null),i.a.createElement(Re,null,i.a.createElement(se,{onMapLoaded:W,mapConfig:n.mapConfig})),i.a.createElement(Le,null,i.a.createElement(Se,null)))},Ge=function(e){var n=e.location.pathname,t=Object(u.c)((function(e){return e.auth.user})),a=Object(u.c)((function(e){return e.config})),r=Object(u.b)();Object(o.useEffect)((function(){r({type:v.CONFIG_FETCH})}),[r]),Object(o.useEffect)((function(){if(a.loaded){var e=a.portalUrl,n=a.clientId,t=a.sessionId;r({type:R,payload:{portalUrl:e,clientId:n,sessionId:t}})}}),[a,r]),Object(o.useEffect)((function(){if(a.loaded){var e=a.portalUrl,o=a.clientId,i=a.sessionId;e&&!t&&"/auth"!==n?r({type:T,payload:{portalUrl:e,clientId:o,sessionId:i}}):"/auth"!==n||t||r(function(e){return{type:k,payload:e}}({portalUrl:e,clientId:o,sessionId:i}))}}),[a,t,n,r]);var c=!1;return"/auth"===n&&(c=!0),!a.loaded||a.portalUrl&&!t||c&&!t?i.a.createElement(oe,{isLoaded:!1}):i.a.createElement(i.a.Fragment,null,i.a.createElement(Y.b,{path:"/main",component:Pe}),i.a.createElement(Y.a,{to:"/main"}))},ze=t(20),Me=t.n(ze);function We(){var e=Object(Q.a)(["\n  html,\n  body {\n    height: 100%;\n    font-family: Montserrat, sans-serif;\n  }\n\n  body {\n    margin: 0;\n    padding: 0;\n    font-weight: 300;\n    letter-spacing: 1px;\n    font-size: 16px;\n  }\n\n  .esri-layer-list__item{\n    &::before {\n      width: 100%;\n      left: 0;\n    }\n  }\n"]);return We=function(){return e},e}var Je,Ye=Object(B.a)(We());t(102);t.d(n,"store",(function(){return He})),Je=H.a;var He=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,n=Object(s.c)(r),t=Object(d.a)(),a=Object(s.e)(n,e(Object(s.a)(t)));return t.run(S),a}();l.a.render(i.a.createElement(u.a,{store:He},i.a.createElement(J.a,{basename:Je},i.a.createElement(Me.a,null,i.a.createElement(Ye,null),i.a.createElement(Y.b,{path:"/",component:Ge})))),document.getElementById("root"))},55:function(e){e.exports=JSON.parse('{"a":"/"}')},76:function(e,n,t){e.exports=t(103)}},[[76,1,2]]]);
//# sourceMappingURL=main.24ada55d.chunk.js.map